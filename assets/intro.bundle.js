webpackJsonp([2],[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(1),a=o(i),l=n(13),r=o(l),s=n(14),u=o(s),c=n(54),d=o(c),p=n(55),y=o(p),f=n(77),g=o(f),h=n(76),E=o(h),b=n(53),m=o(b),R=n(52),T=o(R),k=document.querySelector("[data-mount-intro]"),S={entityMap:{0:{type:"LINK",mutability:"MUtabLE",data:{url:"https://github.com/facebook/draft-js"}},1:{type:"LINK",mutability:"MUtabLE",data:{url:"https://support.google.com/docs/answer/179738"}},2:{type:"LINK",mutability:"MUtabLE",data:{url:"https://github.com/springload/draftail/tree/master/docs#keyboard-shortcuts"}},3:{type:"LINK",mutability:"MUtabLE",data:{url:"https://www.springload.co.nz/"}},4:{type:"DOCUMENT",mutability:"MUtabLE",data:{url:"http://www.example.com/example.pdf",title:"Kritik der reinen Vernunft"}},5:{type:"IMAGE",mutability:"IMMUtabLE",data:{altText:"Test image alt text",alignment:"left",src:"assets/example-image.png"}},6:{type:"LINK",mutability:"MUtabLE",data:{url:"http://embed.ly/"}},7:{type:"EMBED",mutability:"IMMUtabLE",data:{url:"http://www.youtube.com/watch?v=feUYwoLhE_4",title:"React.js Conf 2016 - Isaac Salier-Hellendag - Rich Text Editing with React",providerName:"YouTube",authorName:"Facebook Developers",thumbnail:"https://i.ytimg.com/vi/feUYwoLhE_4/hqdefault.jpg"}},8:{type:"LINK",mutability:"MUtabLE",data:{url:"https://www.springload.co.nz/"}},9:{type:"DOCUMENT",mutability:"MUtabLE",data:{url:"http://www.example.com/example.pdf",title:"Kritik der reinen Vernunft"}},10:{type:"HORIZONTAL_RULE",mutability:"IMMUtabLE",data:{}},11:{type:"LINK",mutability:"MUtabLE",data:{url:"https://springload.github.io/draftail/example.html"}},12:{type:"LINK",mutability:"MUtabLE",data:{url:"https://github.com/springload/draftail"}}},blocks:[{key:"b0ei9",text:"Draftail is a rich text editor built with Draft.js",type:"header-two",depth:0,inlineStyleRanges:[],entityRanges:[{offset:42,length:8,key:0}],data:{}},{key:"74al",text:"Try it out by editing this text!",type:"blockquote",depth:0,inlineStyleRanges:[{offset:22,length:9,style:"BOLD"}],entityRanges:[],data:{}},{key:"7htbd",text:"Features ðŸ“ðŸ¸",type:"header-three",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"32lnv",text:"Draftail aims for a mouse-free, keyboard-centric experience. Most formatting can be done by using common keyboard shortcuts, inspired by Google Docs.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[{offset:137,length:11,key:1}],data:{}},{key:"7rd57",text:"Here are important features worth highlighting:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2mhgt",text:"Support for keyboard shortcuts.",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[{offset:12,length:19,key:2}],data:{}},{key:"f4gp0",text:"Autolists â€“ start a line with - , * , 1.  to create a list item.",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:30,length:2,style:"CODE"},{offset:34,length:2,style:"CODE"},{offset:38,length:3,style:"CODE"}],entityRanges:[],data:{}},{key:"cum79",text:"Undo / redo â€“ until the end of times.",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"3cnm0",text:"Common text types: headings, paragraphs, quotes, lists.",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"5qfeb",text:"Common text styles: Bold, Italic, Underline, Monospace, Strikethrough ",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:20,length:4,style:"BOLD"},{offset:26,length:6,style:"ITALIC"},{offset:34,length:9,style:"UNDERLINE"},{offset:45,length:9,style:"CODE"},{offset:56,length:13,style:"STRIKETHROUGH"}],entityRanges:[],data:{}},{key:"8br3k",text:"Built-in Link and Document controls.",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[{offset:9,length:4,key:3},{offset:18,length:8,key:4}],data:{}},{key:"2j2hl",text:"Built-in Image and Embed blocks.",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"3tbpg",text:" ",type:"atomic",depth:0,inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:5}],data:{}},{key:"eb00n",text:"The Embeds in this example are powered by Embedly:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[{offset:42,length:7,key:6}],data:{}},{key:"f7s8c",text:" ",type:"atomic",depth:0,inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:7}],data:{}},{key:"5t6c9",text:"Try out some keyboard shortcuts:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"df4ie",text:"Apply h3 heading style: ctrl + alt + 3 or âŒ˜ + option + 3 (macOS)",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:6,length:2,style:"CODE"},{offset:24,length:14,style:"CODE"},{offset:42,length:14,style:"CODE"}],entityRanges:[],data:{}},{key:"101cm",text:"Bulleted list: ctrl + shift + 8 or âŒ˜ + shift + 8",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:15,length:16,style:"CODE"},{offset:35,length:13,style:"CODE"}],entityRanges:[],data:{}},{key:"8urvn",text:"Increase list indentation: tab",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:27,length:3,style:"CODE"}],entityRanges:[],data:{}},{key:"2km89",text:"Insert or edit link: ctrl + K or âŒ˜ + K",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:21,length:8,style:"CODE"},{offset:33,length:5,style:"CODE"}],entityRanges:[],data:{}},{key:"12df8",text:"Open link: alt + enter or option + enter",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:11,length:11,style:"CODE"},{offset:26,length:14,style:"CODE"}],entityRanges:[],data:{}},{key:"1sggt",text:"For developers ðŸš€",type:"header-three",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2nb2a",text:"Draftail is meant to be used in scenarios where not all formatting should be available, and where custom formatting can be necessary. Available formats, built-in and custom, can be specificed declaratively for each editor instance.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"26mu7",text:"Built-in",type:"header-four",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"9mda0",text:"Block types: H1, H2, H3, H4, H5, H6, Blockquote, Code, UL, OL, P",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"6h6as",text:"Inline styles: Bold, Italic, Underline, Monospace, Strikethrough",type:"unordered-list-item",depth:0,inlineStyleRanges:[{offset:15,length:4,style:"BOLD"},{offset:21,length:6,style:"ITALIC"},{offset:29,length:9,style:"UNDERLINE"},{offset:40,length:9,style:"CODE"},{offset:51,length:13,style:"STRIKETHROUGH"}],entityRanges:[],data:{}},{key:"3haur",text:"Entities: Images, Embeds, (Links, Documents)",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[{offset:27,length:5,key:8},{offset:34,length:9,key:9}],data:{}},{key:"dnji2",text:"And HR, BR\nas special cases",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"fgg07",text:" ",type:"atomic",depth:0,inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:10}],data:{}},{key:"d5k22",text:"Custom block types",type:"header-four",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"6h166",text:"New block types can be created by giving them a unique type, a label and an icon (for the toolbar), and element and className attributes:",type:"unstyled",depth:0,inlineStyleRanges:[{offset:55,length:4,style:"CODE"},{offset:63,length:5,style:"CODE"},{offset:76,length:4,style:"CODE"},{offset:104,length:7,style:"CODE"},{offset:116,length:9,style:"CODE"}],entityRanges:[],data:{}},{key:"7p4gi",text:"blockTypes={[",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bdkde",text:"    { label: 'H2', type: BLOCK_TYPE.HEADER_TWO },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"a3e7d",text:"    { label: 'Blockquote', type: BLOCK_TYPE.BLOCKQUOTE, icon: 'icon-openquote' },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"58kfm",text:"    { label: 'T&C', type: 'terms-and-conditions', element: 'div', className: 'u-smalltext' },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"88v3f",text:"]}",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"7ouai",text:"Custom inline styles",type:"header-four",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"biqf8",text:"// TODO",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2iad",text:"Custom entity types",type:"header-four",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"28uqr",text:"entityTypes={[",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"f7obp",text:"    { label: 'Image', type: ENTITY_TYPE.IMAGE, icon: 'icon-image', control: ImageSource, imageFormats: [] },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2omo4",text:"    { label: 'Embed', type: ENTITY_TYPE.EMBED, icon: 'icon-media', control: EmbedSource },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8fu4a",text:"    { label: 'Link', type: ENTITY_TYPE.LINK, icon: 'icon-link', control: LinkSource, strategy: findLinkEntities, component: Link },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"e4est",text:"    { label: 'Document', type: ENTITY_TYPE.DOCUMENT, icon: 'icon-doc-full', control: DocumentSource, strategy: findDocumentEntities, component: Document },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cko41",text:"    // { label: 'Location', type: 'LOCATION', icon: 'icon-location', control: GenericModelSource, strategy: findModelEntities, component: Model },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"7tper",text:"]}",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"dgi85",text:"Usage",type:"header-three",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"5gh8i",text:"First, grab the package from npm:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"1csjm",text:"npm install --save draftail",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"80bi",text:"# Draftail's peerDependencies:",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"b8c96",text:"npm install --save draft-js@^0.10.0 react@^15.0.0 react-dom@^15.0.0",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"aci2r",text:"# Note: Draft.js builds upon ES6 language features. If targeting browsers that do not support them,",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"beeuv",text:"# see https://facebook.github.io/draft-js/docs/advanced-topics-issues-and-pitfalls.html#polyfills.",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"32v54",text:"Then, import the editor and use it in your code. Here is a basic example:",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[{offset:59,length:13,key:11}],data:{}},{key:"eh53t",text:"import React from 'react';",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"6be42",text:"import ReactDOM from 'react-dom';",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"1vilo",text:"",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"33n1l",text:"import DraftailEditor, { BLOCK_TYPE, INLINE_STYLE } from 'draftail';",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8f7uv",text:"",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"4eooc",text:"const initialContentState = JSON.parse(sessionStorage.getItem('basic:contentState')) || {};",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"4orun",text:"",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"2nenj",text:"const onSave = (contentState) => {",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"6himf",text:"    sessionStorage.setItem('basic:contentState', JSON.stringify(contentState));",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"elu8v",text:"};",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"3k6b1",text:"",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"4hrb1",text:"const editor = (",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"31kc6",text:"    <DraftailEditor",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"3lkk3",text:"        rawContentState={initialContentState}",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"e2636",text:"        onSave={onSave}",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"816t8",text:"        blockTypes={[",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"12u5",text:"            { label: 'H3', type: BLOCK_TYPE.HEADER_THREE },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"5o39s",text:"            { label: 'UL', type: BLOCK_TYPE.UNORDERED_LIST_ITEM, icon: 'icon-list-ul' },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"c85ld",text:"        ]}",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"icg7",text:"        inlineStyles={[",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"ck071",text:"            { label: 'Bold', type: INLINE_STYLE.BOLD, icon: 'icon-bold' },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"5veu",text:"            { label: 'Italic', type: INLINE_STYLE.ITALIC, icon: 'icon-italic' },",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bm634",text:"        ]}",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"a14a9",text:"    />",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"unjt",text:");",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"29ql6",text:"",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bf6lh",text:"ReactDOM.render(editor, document.querySelector('[data-mount-basic]'));",type:"code-block",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"99k19",text:"For further documentation, look at the project on GitHub.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[{offset:39,length:17,key:12}],data:{}}]},v=function(e){sessionStorage.setItem("intro:contentState",JSON.stringify(e))},_=a.default.createElement(u.default,{rawContentState:S,onSave:v,enableHorizontalRule:!0,enableLineBreak:!0,stripPastedStyles:!1,entityTypes:[{label:"Image",type:s.ENTITY_TYPE.IMAGE,icon:"icon-image",control:g.default,imageFormats:[]},{label:"Embed",type:s.ENTITY_TYPE.EMBED,icon:"icon-media",control:E.default},{label:"Link",type:s.ENTITY_TYPE.LINK,icon:"icon-link",control:y.default,strategy:b.findLinkEntities,component:m.default},{label:"Document",type:s.ENTITY_TYPE.DOCUMENT,icon:"icon-doc-full",control:d.default,strategy:R.findDocumentEntities,component:T.default}],blockTypes:[{label:"H2",type:s.BLOCK_TYPE.HEADER_TWO},{label:"H3",type:s.BLOCK_TYPE.HEADER_THREE},{label:"H4",type:s.BLOCK_TYPE.HEADER_FOUR},{label:"Blockquote",type:s.BLOCK_TYPE.BLOCKQUOTE,icon:"icon-openquote"},{label:"Code",type:s.BLOCK_TYPE.CODE,icon:"icon-cog"},{label:"UL",type:s.BLOCK_TYPE.UNORDERED_LIST_ITEM,icon:"icon-list-ul"},{label:"OL",type:s.BLOCK_TYPE.ORDERED_LIST_ITEM,icon:"icon-list-ol"},{label:"T&C",type:"terms-and-conditions",element:"div",className:"u-smalltext"}],inlineStyles:[{label:"Bold",type:s.INLINE_STYLE.BOLD,icon:"icon-bold"},{label:"Italic",type:s.INLINE_STYLE.ITALIC,icon:"icon-italic"},{label:"Underline",type:s.INLINE_STYLE.UNDERLINE,icon:"icon-underline"},{label:"Monospace",type:s.INLINE_STYLE.CODE,icon:"icon-pacman"},{label:"Strikethrough",type:s.INLINE_STYLE.STRIKETHROUGH,icon:"icon-strikethrough"}]});r.default.render(_,k)},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.BLOCK_TYPE={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",CODE:"code-block",ATOMIC:"atomic"},o=t.ENTITY_TYPE={LINK:"LINK",DOCUMENT:"DOCUMENT",MODEL:"MODEL",IMAGE:"IMAGE",EMBED:"EMBED",HORIZONTAL_RULE:"HORIZONTAL_RULE"},i=t.INLINE_STYLE={BOLD:"BOLD",ITALIC:"ITALIC",CODE:"CODE",UNDERLINE:"UNDERLINE",STRIKETHROUGH:"STRIKETHROUGH"},a=t.BR_TYPE="BR",l=(t.KEY_CODES={K:75,B:66,U:85,J:74,I:73,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56},t.KEYBOARD_SHORTCUTS={});l[n.UNSTYLED]={other:"ctrl + alt + 0",macOS:"âŒ˜ + option + 0"},l[n.HEADER_ONE]={other:"ctrl + alt + 1",macOS:"âŒ˜ + option + 1"},l[n.HEADER_TWO]={other:"ctrl + alt + 2",macOS:"âŒ˜ + option + 2"},l[n.HEADER_THREE]={other:"ctrl + alt + 3",macOS:"âŒ˜ + option + 3"},l[n.HEADER_FOUR]={other:"ctrl + alt + 4",macOS:"âŒ˜ + option + 4"},l[n.HEADER_FIVE]={other:"ctrl + alt + 5",macOS:"âŒ˜ + option + 5"},l[n.HEADER_SIX]={other:"ctrl + alt + 6",macOS:"âŒ˜ + option + 6"},l[n.UNORDERED_LIST_ITEM]={other:"ctrl + shift + 8",macOS:"âŒ˜ + shift + 8"},l[n.ORDERED_LIST_ITEM]={other:"ctrl + shift + 7",macOS:"âŒ˜ + shift + 7"},l[o.LINK]={other:"ctrl + K",macOS:"âŒ˜ + K"},l[a]={other:"shift + enter",macOS:"shift + enter"},l[i.BOLD]={other:"ctrl + B",macOS:"âŒ˜ + B"},l[i.ITALIC]={other:"ctrl + I",macOS:"âŒ˜ + I"},l[i.UNDERLINE]={other:"ctrl + U",macOS:"âŒ˜ + U"},l[i.STRIKETHROUGH]={other:"alt + shift + 5",macOS:"option + shift + 5"},t.NBSP="Â ",t.HANDLED="handled",t.NOT_HANDLED="not-handled"},,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=function(e){var t=e.name,n=e.className,o=e.title;return a.default.createElement("span",{className:"icon "+t+" "+n,"aria-hidden":!o},o?a.default.createElement("span",{role:"presentation"},o):null)};l.propTypes={name:i.PropTypes.string.isRequired,className:i.PropTypes.string,title:i.PropTypes.string},l.defaultProps={className:"",title:null},t.default=l},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=n(44),l=o(a),r=n(3);t.default={getSelectionEntity:l.default.getSelectionEntity.bind(l.default),getEntityRange:l.default.getEntityRange.bind(l.default),handleNewLine:l.default.handleNewLine.bind(l.default),addLineBreakRemovingSelection:l.default.addLineBreakRemovingSelection.bind(l.default),getSelectedBlock:l.default.getSelectedBlock.bind(l.default),getAllBlocks:l.default.getAllBlocks.bind(l.default),getSelectedEntitySelection:function(e){var t=e.getSelection(),n=e.getCurrentContent(),o=this.getSelectionEntity(e),a=this.getEntityRange(e,o),l=t.getAnchorKey(),r=n.getBlockForKey(l),s=r.getKey();return new i.SelectionState({anchorOffset:a.start,anchorKey:s,focusOffset:a.end,focusKey:s,isBackward:!1,hasFocus:t.getHasFocus()})},hasCurrentInlineStyle:function(e,t){var n=e.getCurrentInlineStyle();return n.has(t)},isSelectedBlockType:function(e,t){var n=this.getSelectedBlock(e);return n&&n.type===t},createEntity:function(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"IMMUTABLE",l=e.getCurrentContent(),r=e.getSelection(),s=l.createEntity(t,a,n),u=s.getLastCreatedEntityKey(),c=void 0;c=r.isCollapsed()?i.Modifier.insertText(l,r,o,null,u):i.Modifier.replaceText(l,r,o,null,u);var d=i.EditorState.push(e,c,"insert");return d},addHorizontalRuleRemovingSelection:function(e){var t=e.getCurrentContent(),n=t.createEntity(r.ENTITY_TYPE.HORIZONTAL_RULE,"IMMUTABLE",{}),o=n.getLastCreatedEntityKey(),a=i.AtomicBlockUtils.insertAtomicBlock(e,o," ");return a},resetBlockWithType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.getCurrentContent(),a=e.getSelection(),l=a.getStartKey(),r=o.getBlockMap(),s=r.get(l),u=s.mergeDeep(n,{type:t,data:{}}),c=o.merge({blockMap:r.set(l,u),selectionAfter:a.merge({anchorOffset:0,focusOffset:0})});return i.EditorState.push(e,c,"change-block-type")},normaliseBlockDepth:function(e,t){var n=e.getCurrentContent(),o=n.getBlockMap(),a=o.filter(function(e){return e.getDepth()>t}).map(function(e){return e.set("depth",t)});return o=o.merge(a),n=n.merge({blockMap:o}),i.EditorState.set(e,{currentContent:n})}}},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.INLINE_STYLE=t.ENTITY_TYPE=t.BLOCK_TYPE=t.DraftUtils=void 0,n(37);var i=n(32),a=o(i),l=n(10),r=o(l),s=n(12),u=o(s),c=n(3);t.default=a.default,t.DraftUtils=u.default,t.BLOCK_TYPE=c.BLOCK_TYPE,t.ENTITY_TYPE=c.ENTITY_TYPE,t.INLINE_STYLE=c.INLINE_STYLE,t.Icon=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),i=n(5),a=n(3),l=i.KeyBindingUtil.hasCommandModifier,r=i.KeyBindingUtil.isOptionKeyCommand,s="test"===r({altKey:"test"});t.default={getBlockRenderMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.some(function(e){return e.type===a.BLOCK_TYPE.CODE})&&(t[a.BLOCK_TYPE.CODE]={element:"code",wrapper:i.DefaultDraftBlockRenderMap.get(a.BLOCK_TYPE.CODE).wrapper}),e.filter(function(e){return e.element}).forEach(function(e){t[e.type]={element:e.element}}),i.DefaultDraftBlockRenderMap.merge((0,o.Map)(t))},getBlockStyleFn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.filter(function(e){return e.className}).forEach(function(e){t[e.type]=e.className});var n=function(e){var n=e.getType();return t[n]||void 0};return n},getKeyBindingFn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=function(e,t){return Object.keys(t).reduce(function(n,o){return n[o]=e.some(function(e){return e.type===t[o]}),n},{})},r=o(e,a.BLOCK_TYPE),s=o(t,a.INLINE_STYLE),u=o(n,a.ENTITY_TYPE),c=function(e){if(e.shiftKey)switch(e.keyCode){case a.KEY_CODES.B:return null;case a.KEY_CODES.I:return null;case a.KEY_CODES.J:return null;case a.KEY_CODES.U:return null;case a.KEY_CODES[5]:return s.STRIKETHROUGH&&e.shiftKey&&e.altKey?a.INLINE_STYLE.STRIKETHROUGH:null;case a.KEY_CODES[7]:return r.ORDERED_LIST_ITEM&&l(e)&&e.shiftKey?a.BLOCK_TYPE.ORDERED_LIST_ITEM:null;case a.KEY_CODES[8]:return r.UNORDERED_LIST_ITEM&&l(e)&&e.shiftKey?a.BLOCK_TYPE.UNORDERED_LIST_ITEM:null}else switch(e.keyCode){case a.KEY_CODES.K:return u.LINK&&l(e)?a.ENTITY_TYPE.LINK:null;case a.KEY_CODES.B:return s.BOLD&&l(e)?a.INLINE_STYLE.BOLD:null;case a.KEY_CODES.I:return s.ITALIC&&l(e)?a.INLINE_STYLE.ITALIC:null;case a.KEY_CODES.J:return s.CODE&&l(e)?a.INLINE_STYLE.CODE:null;case a.KEY_CODES.U:return s.UNDERLINE&&l(e)?a.INLINE_STYLE.UNDERLINE:null;case a.KEY_CODES[0]:return(e.ctrlKey||e.metaKey)&&e.altKey?a.BLOCK_TYPE.UNSTYLED:null;case a.KEY_CODES[1]:return r.HEADER_ONE&&(e.ctrlKey||e.metaKey)&&e.altKey?a.BLOCK_TYPE.HEADER_ONE:null;case a.KEY_CODES[2]:return r.HEADER_TWO&&(e.ctrlKey||e.metaKey)&&e.altKey?a.BLOCK_TYPE.HEADER_TWO:null;case a.KEY_CODES[3]:return r.HEADER_THREE&&(e.ctrlKey||e.metaKey)&&e.altKey?a.BLOCK_TYPE.HEADER_THREE:null;case a.KEY_CODES[4]:return r.HEADER_FOUR&&(e.ctrlKey||e.metaKey)&&e.altKey?a.BLOCK_TYPE.HEADER_FOUR:null;case a.KEY_CODES[5]:return r.HEADER_FIVE&&(e.ctrlKey||e.metaKey)&&e.altKey?a.BLOCK_TYPE.HEADER_FIVE:null;case a.KEY_CODES[6]:return r.HEADER_SIX&&(e.ctrlKey||e.metaKey)&&e.altKey?a.BLOCK_TYPE.HEADER_SIX:null}return(0,i.getDefaultKeyBinding)(e)};return c},getKeyboardShortcut:function(e){var t=a.KEYBOARD_SHORTCUTS[e],n=s?"macOS":"other";return t?t[n]:"No keyboard shortcut"},getBeforeInputBlockType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={"* ":a.BLOCK_TYPE.UNORDERED_LIST_ITEM,"- ":a.BLOCK_TYPE.UNORDERED_LIST_ITEM,"1. ":a.BLOCK_TYPE.ORDERED_LIST_ITEM},o=n[e];return!!t.find(function(e){return e.type===o})&&o}}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);t.default={createEditorState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new o.CompositeDecorator(t),i=void 0;if(e&&0!==Object.keys(e).length){var a=(0,o.convertFromRaw)(e);i=o.EditorState.createWithContent(a,n)}else i=o.EditorState.createEmpty(n);return i},serialiseEditorState:function(e){var t=e.getCurrentContent(),n=(0,o.convertToRaw)(t),i=n.blocks.every(function(e){return 0===e.text.trim().length&&0===e.entityRanges.length&&0===e.inlineStyleRanges.length});return i?{}:n}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=function(){return a.default.createElement("hr",null)};t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(3),r=n(10),s=o(r),u=function(e){var t=e.entity,n=e.isActive,o=e.onClick,i=t.getData(),r=i.url,u=i.title,c=i.providerName,d=i.authorName,p=i.thumbnail;return a.default.createElement("div",null,a.default.createElement(s.default,{name:"icon-media",className:"RichEditor-media-icon"}),a.default.createElement("div",{className:"RichEditor-media-container",onClick:o},a.default.createElement("span",{className:"RichEditor-media-preview"},a.default.createElement("img",{src:p,alt:u}))),n?a.default.createElement("div",{className:"RichEditor-media-options"},a.default.createElement("h3",null,a.default.createElement("strong",null,u)),a.default.createElement("p",null,a.default.createElement("span",null,"URL:",l.NBSP,a.default.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},r)),a.default.createElement("br",null),a.default.createElement("span",null,"Provider:",l.NBSP),c,a.default.createElement("br",null),a.default.createElement("span",null,"Author:",l.NBSP),d)):null)};u.propTypes={entity:a.default.PropTypes.object.isRequired,isActive:a.default.PropTypes.bool.isRequired,onClick:a.default.PropTypes.func.isRequired},t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(10),d=o(c),p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.entity,l=o.getData(),r=l.altText,s=l.alignment;return n.state={altText:r||"",alignment:s||"left"},n.changeText=n.changeText.bind(n),n.changeAlignment=n.changeAlignment.bind(n),n.onSave=n.onSave.bind(n),n.renderMediaOptions=n.renderMediaOptions.bind(n),n}return l(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.entity.getData(),n=t.altText,o=t.alignment;this.setState({altText:n||"",alignment:o||"left"})}},{key:"changeText",value:function(e){this.setState({altText:e.currentTarget.value})}},{key:"changeAlignment",value:function(e){this.setState({alignment:e.currentTarget.value})}},{key:"onSave",value:function e(){var e=this.props.onSave,t=this.state,n=t.alignment,o=t.altText;e({alignment:n,altText:o})}},{key:"renderMediaOptions",value:function(){var e=this,t=this.props,n=t.entityConfig,o=t.onCancel,i=this.state,a=i.alignment,l=i.altText,r=n.imageFormats||[];return u.default.createElement("div",{className:"RichEditor-media-options"},u.default.createElement("div",{className:"RichEditor-grid"},u.default.createElement("div",{className:"RichEditor-col"},u.default.createElement("label",{className:"u-block"},u.default.createElement("h4",null,"Alt text"),u.default.createElement("p",null,u.default.createElement("input",{type:"text",value:l,onChange:this.changeText})))),u.default.createElement("div",{className:"RichEditor-col"},u.default.createElement("h4",null,"Image alignment"),u.default.createElement("p",null,r.map(function(t){return u.default.createElement("label",{key:t.value},u.default.createElement("input",{type:"radio",value:t.value,onChange:e.changeAlignment,checked:t.value===a}),t.label)})))),u.default.createElement("p",null,u.default.createElement("button",{type:"button",className:"button button-secondary",onClick:this.onSave},"Save changes"),u.default.createElement("button",{type:"button",className:"button button-secondary no",onClick:o},"Cancel")))}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.isActive,o=e.onClick,i=t.getData(),a=i.src,l=i.alt;return u.default.createElement("div",null,u.default.createElement(d.default,{name:"icon-image",className:"RichEditor-media-icon"}),u.default.createElement("div",{onClick:o,className:"RichEditor-media-container"},u.default.createElement("span",{className:"RichEditor-media-preview"},u.default.createElement("img",{src:a,alt:l||""}))),n?this.renderMediaOptions():null)}}]),t}(s.Component);p.propTypes={entityConfig:u.default.PropTypes.object.isRequired,entity:u.default.PropTypes.object.isRequired,isActive:u.default.PropTypes.bool.isRequired,onClick:u.default.PropTypes.func.isRequired,onSave:u.default.PropTypes.func.isRequired,onCancel:u.default.PropTypes.func.isRequired},t.default=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(3),d=n(28),p=o(d),y=n(27),f=o(y),g=n(30),h=o(g),E={};E[c.ENTITY_TYPE.IMAGE]=p.default,E[c.ENTITY_TYPE.EMBED]=f.default;var b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isActive:!1},n.toggleBlock=n.toggleBlock.bind(n),n.closeBlock=n.toggleBlock.bind(n,!1),n.onClick=n.onClick.bind(n),n.onSave=n.onSave.bind(n),n}return l(t,e),r(t,[{key:"toggleBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.isActive,t=this.props.blockProps;this.setState({isActive:e}),e?t.lockEditor():t.unlockEditor()}},{key:"onClick",value:function(){this.toggleBlock()}},{key:"onSave",value:function(e){var t=this.props,n=t.block,o=t.contentState;o.mergeEntityData(n.getEntityAt(0),e),
this.closeBlock()}},{key:"render",value:function(){var e=this.props.blockProps,t=this.state.isActive,n=E[e.entity.type]||h.default;return u.default.createElement("div",{className:"RichEditor-media"+(t?" RichEditor-media--open":"")},u.default.createElement(n,{entity:e.entity,entityConfig:e.entityConfig,isActive:t,onClick:this.onClick,onCancel:this.closeBlock,onSave:this.onSave}))}}]),t}(s.Component);b.propTypes={block:u.default.PropTypes.object.isRequired,contentState:u.default.PropTypes.object.isRequired,blockProps:u.default.PropTypes.object.isRequired},t.default=b},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=function(){return a.default.createElement("div",null,"Invalid component")};t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(10),r=o(l),s=function(e,t){t.preventDefault(),e()},u=function(e){var t=e.active,n=e.label,o=e.title,i=e.icon,l=e.onClick;return a.default.createElement("button",{className:"RichEditor-styleButton"+(t?" RichEditor-activeButton":""),type:"button",title:o,onMouseDown:s.bind(null,l)},i?a.default.createElement(r.default,{name:i}):null,n)};u.propTypes={active:a.default.PropTypes.bool,label:a.default.PropTypes.string,title:a.default.PropTypes.string,icon:a.default.PropTypes.string,onClick:a.default.PropTypes.func},u.defaultProps={active:!1,label:null,title:null,icon:null,onClick:function(){}},t.default=u},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(5),d=n(3),p=n(12),y=o(p),f=n(15),g=o(f),h=n(25),E=o(h),b=n(34),m=o(b),R=n(33),T=o(R),k=n(35),S=o(k),v=n(26),_=o(v),O=n(29),C=o(O),D={rawContentState:{},onSave:function(){},enableHorizontalRule:!1,enableLineBreak:!1,stripPastedStyles:!0,entityTypes:[],blockTypes:[],inlineStyles:[],maxListNesting:1,stateSaveInterval:250},L={rawContentState:u.default.PropTypes.object,onSave:u.default.PropTypes.func,enableHorizontalRule:u.default.PropTypes.bool,enableLineBreak:u.default.PropTypes.bool,stripPastedStyles:u.default.PropTypes.bool,entityTypes:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({label:u.default.PropTypes.string.isRequired,type:u.default.PropTypes.string.isRequired,icon:u.default.PropTypes.string,control:u.default.PropTypes.func.isRequired,strategy:u.default.PropTypes.func,component:u.default.PropTypes.func,imageFormats:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({label:u.default.PropTypes.string.isRequired,value:u.default.PropTypes.string.isRequired}))})),blockTypes:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({label:u.default.PropTypes.string.isRequired,type:u.default.PropTypes.string.isRequired,icon:u.default.PropTypes.string,element:u.default.PropTypes.string,className:u.default.PropTypes.string})),inlineStyles:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({label:u.default.PropTypes.string.isRequired,type:u.default.PropTypes.string.isRequired,icon:u.default.PropTypes.string})),maxListNesting:u.default.PropTypes.number,stateSaveInterval:u.default.PropTypes.number},P=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),o=e.rawContentState,l=e.entityTypes,r=l.filter(function(e){return!!e.strategy});return t.state={editorState:E.default.createEditorState(o,r),readOnly:!1,dialogOptions:null,entity:null},t.onChange=t.onChange.bind(t),t.saveState=t.saveState.bind(t),t.toggleTooltip=t.toggleTooltip.bind(t),t.toggleDialog=t.toggleDialog.bind(t),t.toggleEditor=t.toggleEditor.bind(t),t.lockEditor=t.toggleEditor.bind(t,!0),t.unlockEditor=t.toggleEditor.bind(t,!1),t.handleReturn=t.handleReturn.bind(t),t.onTab=t.onTab.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t.onKeyUp=t.onKeyUp.bind(t),t.handleKeyCommand=t.handleKeyCommand.bind(t),t.handleBeforeInput=t.handleBeforeInput.bind(t),t.toggleBlockType=t.toggleBlockType.bind(t),t.toggleInlineStyle=t.toggleInlineStyle.bind(t),t.onEditEntity=t.onEditEntity.bind(t),t.onRemoveEntity=t.onRemoveEntity.bind(t),t.addHR=t.addHR.bind(t),t.addBR=t.addBR.bind(t),t.blockRenderer=t.blockRenderer.bind(t),t.onRequestDialog=t.onRequestDialog.bind(t),t.onDialogComplete=t.onDialogComplete.bind(t),t.renderDialog=t.renderDialog.bind(t),t.renderTooltip=t.renderTooltip.bind(t),t}return l(n,t),r(n,[{key:"onChange",value:function(t){var n=this,o=this.props,i=o.stateSaveInterval,a=o.maxListNesting,l=this.state.editorState,r=l.getCurrentContent(),s=t.getCurrentContent();s!==r&&"insert-fragment"===t.getLastChangeType()&&(t=y.default.normaliseBlockDepth(t,a)),this.setState({editorState:t},function(){e.clearTimeout(n.updateTimeout),n.updateTimeout=e.setTimeout(n.saveState,i)})}},{key:"saveState",value:function(){var e=this.props.onSave,t=this.state.editorState;e(E.default.serialiseEditorState(t))}},{key:"toggleEditor",value:function(e){this.setState({readOnly:e})}},{key:"toggleTooltip",value:function(e){this.setState({shouldShowTooltip:e})}},{key:"toggleDialog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props.entityTypes,o=n.find(function(t){return t.type===e});this.setState({readOnly:!0,dialogOptions:o,entity:t})}},{key:"handleReturn",value:function(t){var n=this.props.enableLineBreak,o=this.state.editorState,i=o.getCurrentContent(),a=!1;if(t.altKey){a=!0;var l=y.default.getSelectionEntity(o);if(l){var r=i.getEntity(l).getData();r.url&&e.open(r.url)}}else{n||(t.which=0);var s=y.default.handleNewLine(o,t);s&&(a=!0,this.onChange(s))}return a}},{key:"onTab",value:function(e){var t=this.props.maxListNesting,n=this.state.editorState,o=c.RichUtils.onTab(e,n,t);return this.onChange(o),!0}},{key:"onMouseUp",value:function(e){this.tooltip=e.target.closest("[data-tooltip]"),this.toggleTooltip(!!this.tooltip)}},{key:"onKeyUp",value:function(){this.toggleTooltip(!1)}},{key:"handleKeyCommand",value:function(e){var t=this.state.editorState,n=function(e,t){return Object.keys(e).find(function(n){return e[n]===t})},o=void 0,i=!1;return n(d.ENTITY_TYPE,e)?(i=!0,this.onRequestDialog(e)):n(d.BLOCK_TYPE,e)?(i=!0,this.toggleBlockType(e)):n(d.INLINE_STYLE,e)?(i=!0,this.toggleInlineStyle(e)):(o=c.RichUtils.handleKeyCommand(t,e),o&&(i=!0,this.onChange(o))),i}},{key:"handleBeforeInput",value:function(e){var t=this.props.blockTypes,n=this.state.editorState,o=n.getSelection(),i=y.default.getSelectedBlock(n),a=i.getType(),l=g.default.getBeforeInputBlockType(""+(i.getText()[0]||"")+(i.getText()[1]||"")+e,t),r=[a!==d.BLOCK_TYPE.UNSTYLED,o.getAnchorOffset()>2,i.getLength()>2,!l];return r.some(function(e){return e})?d.NOT_HANDLED:(this.onChange(y.default.resetBlockWithType(n,l,{text:""})),d.HANDLED)}},{key:"toggleBlockType",value:function(e){var t=this.state.editorState;this.onChange(c.RichUtils.toggleBlockType(t,e))}},{key:"toggleInlineStyle",value:function(e){var t=this.state.editorState;this.onChange(c.RichUtils.toggleInlineStyle(t,e))}},{key:"onEditEntity",value:function(e){var t=this.state.editorState,n=t.getCurrentContent(),o=n.getEntity(e),i=y.default.getSelectedEntitySelection(t),a=c.EditorState.acceptSelection(t,i);this.onChange(a),this.toggleDialog(o.type,o)}},{key:"onRemoveEntity",value:function(){var e=this.state.editorState,t=y.default.getSelectedEntitySelection(e);this.setState({shouldShowTooltip:!1}),this.onChange(c.RichUtils.toggleLink(e,t,null))}},{key:"addHR",value:function(){var e=this.state.editorState;this.onChange(y.default.addHorizontalRuleRemovingSelection(e))}},{key:"addBR",value:function(){var e=this.state.editorState;this.onChange(y.default.addLineBreakRemovingSelection(e))}},{key:"blockRenderer",value:function(e){var t=this.props.entityTypes,n=this.state.editorState,o=n.getCurrentContent(),i=void 0,a=void 0,l=void 0;switch(e.getType()){case d.BLOCK_TYPE.ATOMIC:i=o.getEntity(e.getEntityAt(0)),a=i.type===d.ENTITY_TYPE.HORIZONTAL_RULE,l=a?{component:_.default,editable:!1,props:{}}:{component:C.default,editable:!1,props:{entity:i,entityConfig:t.find(function(e){return e.type===i.type}),lockEditor:this.lockEditor,unlockEditor:this.unlockEditor,editorState:n,onUpdate:this.onDialogComplete}};break;default:l=null}return l}},{key:"onRequestDialog",value:function(e){var t=this.state.editorState,n=t.getCurrentContent(),o=y.default.getSelectionEntity(t);this.toggleDialog(e,o?n.getEntity(o):null)}},{key:"onDialogComplete",value:function(t){var n=this;this.setState({dialogOptions:null},function(){t&&n.onChange(t),e.setTimeout(function(){n.setState({readOnly:!1},function(){e.setTimeout(function(){n.editorRef.focus()},0)})},0)})}},{key:"renderDialog",value:function(){var e=this.state,t=e.entity,n=e.editorState,o=e.dialogOptions,i=void 0;if(o){var a=o.control;i=u.default.createElement(a,{onClose:this.onDialogComplete,onUpdate:this.onDialogComplete,entity:t,editorState:n,options:o})}else i=null;return i}},{key:"renderTooltip",value:function(){var e=this.state,t=e.editorState,n=e.shouldShowTooltip,o=t.getCurrentContent(),i=this.tooltip&&this.tooltip.getAttribute("data-tooltip");return u.default.createElement(T.default,null,n&&i?u.default.createElement(S.default,{onRemove:this.onRemoveEntity,onEdit:this.onEditEntity.bind(this,i),entityData:o.getEntity(i).getData(),position:{top:this.tooltip.getBoundingClientRect().top+document.body.scrollTop+this.tooltip.offsetHeight,left:this.tooltip.getBoundingClientRect().left+document.body.scrollLeft}}):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.enableHorizontalRule,o=t.enableLineBreak,i=t.stripPastedStyles,a=t.blockTypes,l=t.inlineStyles,r=t.entityTypes,s=this.state,d=s.editorState,p=s.readOnly;return u.default.createElement("div",{className:p?"editor--readonly":null,onBlur:this.saveState,onMouseUp:this.onMouseUp,onKeyUp:this.onKeyUp},u.default.createElement(m.default,{editorState:d,enableHorizontalRule:n,enableLineBreak:o,blockTypes:a,inlineStyles:l,entityTypes:r,readOnly:p,toggleBlockType:this.toggleBlockType,toggleInlineStyle:this.toggleInlineStyle,addHR:this.addHR,addBR:this.addBR,onRequestDialog:this.onRequestDialog}),u.default.createElement(c.Editor,{ref:function(t){e.editorRef=t},editorState:d,onChange:this.onChange,readOnly:p,stripPastedStyles:i,handleReturn:this.handleReturn,keyBindingFn:g.default.getKeyBindingFn(a,l,r),handleKeyCommand:this.handleKeyCommand,handleBeforeInput:this.handleBeforeInput,onTab:this.onTab,blockRendererFn:this.blockRenderer,blockRenderMap:g.default.getBlockRenderMap(a),blockStyleFn:g.default.getBlockStyleFn(a)}),this.renderTooltip(),this.renderDialog())}}]),n}(s.Component);P.propTypes=L,P.defaultProps=D,t.default=P}).call(t,function(){return this}())},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(13),d=o(c),p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),r(t,[{key:"componentDidMount",value:function(){this.portal||(this.portal=document.createElement("div"),document.body.appendChild(this.portal)),this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.props.children;d.default.render(u.default.createElement("div",this.props,e),this.portal)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.portal)}},{key:"render",value:function(){return null}}]),t}(u.default.Component);p.propTypes={children:u.default.PropTypes.node},p.defaultProps={children:null},t.default=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(12),r=o(l),s=n(31),u=o(s),c=n(3),d=n(15),p=o(d),y=function(e){var t=e.editorState,n=e.blockTypes,o=e.inlineStyles,i=e.enableHorizontalRule,l=e.enableLineBreak,s=e.entityTypes,d=e.toggleBlockType,y=e.toggleInlineStyle,f=e.addHR,g=e.addBR,h=e.onRequestDialog;return a.default.createElement("div",{className:"editor__toolbar",role:"toolbar"},n.map(function(e){return a.default.createElement(u.default,{key:e.type,active:r.default.isSelectedBlockType(t,e.type),label:e.label,title:p.default.getKeyboardShortcut(e.type),icon:e.icon,onClick:d.bind(null,e.type)})}),o.map(function(e){return a.default.createElement(u.default,{key:e.type,active:r.default.hasCurrentInlineStyle(t,e.type),label:e.label,title:p.default.getKeyboardShortcut(e.type),icon:e.icon,onClick:y.bind(null,e.type)})}),i?a.default.createElement(u.default,{onClick:f,label:"HR"}):null,l?a.default.createElement(u.default,{onClick:g,label:"BR",title:p.default.getKeyboardShortcut(c.BR_TYPE)}):null,s.map(function(e){return a.default.createElement(u.default,{key:e.type,onClick:h.bind(null,e.type),label:e.label,title:p.default.getKeyboardShortcut(e.type),icon:e.icon})}))};y.propTypes={editorState:a.default.PropTypes.object.isRequired,enableHorizontalRule:a.default.PropTypes.bool.isRequired,enableLineBreak:a.default.PropTypes.bool.isRequired,entityTypes:a.default.PropTypes.array.isRequired,blockTypes:a.default.PropTypes.array.isRequired,inlineStyles:a.default.PropTypes.array.isRequired,toggleBlockType:a.default.PropTypes.func.isRequired,toggleInlineStyle:a.default.PropTypes.func.isRequired,addHR:a.default.PropTypes.func.isRequired,addBR:a.default.PropTypes.func.isRequired,onRequestDialog:a.default.PropTypes.func.isRequired},t.default=y},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),l=n(36),r=function(e){var t=e.position,n=e.entityData,o=e.onEdit,i=e.onRemove;return a.default.createElement("div",{style:{top:t.top,left:t.left},className:"RichEditor-tooltip",role:"tooltip"},n.url?a.default.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"RichEditor-tooltip__link"},(0,l.truncateURL)(n.url)):null,n.label?a.default.createElement("span",{className:"RichEditor-tooltip__text"},(0,l.truncateURL)(n.label)):null,a.default.createElement("button",{className:"RichEditor-tooltip__button",onClick:o},"Edit"),a.default.createElement("button",{className:"RichEditor-tooltip__button",onClick:i},"Remove"))};r.propTypes={position:a.default.PropTypes.shape({top:a.default.PropTypes.number.isRequired,left:a.default.PropTypes.number.isRequired}).isRequired,entityData:a.default.PropTypes.object.isRequired,onEdit:a.default.PropTypes.func.isRequired,onRemove:a.default.PropTypes.func.isRequired},t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[" ","/","&"],i=.8*t,a=n?e.split("").reverse().join(""):e,l="",r=void 0;for(r=0;r<t-1&&(l+=a[r],!(r>=i&&o.indexOf(a[r])>=0));r++);return n?l.split("").reverse().join(""):l};t.truncateURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=t/2,i=e.replace("http://","").replace("https://","");if(e.length>t){var a=n(i,o,!1),l=n(i,o,!0);i=a+"â€¦"+l}return i}},function(e,t){"use strict";window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do for(t=n.length;--t>=0&&n.item(t)!==o;);while(t<0&&(o=o.parentElement));return o})},,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&n.getEntity(t).getType()===r.ENTITY_TYPE.DOCUMENT},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.findDocumentEntities=i;var a=n(1),l=o(a),r=n(14),s=function(e){var t=e.entityKey,n=e.contentState,o=e.children,i=n.getEntity(t).getData(),a=i.title;return l.default.createElement("span",{"data-tooltip":t,className:"RichEditor-link",title:a},l.default.createElement(r.Icon,{name:"icon-doc-full"}),o)};s.propTypes={entityKey:l.default.PropTypes.string.isRequired,contentState:l.default.PropTypes.object.isRequired,children:l.default.PropTypes.node.isRequired},t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&n.getEntity(t).getType()===r.ENTITY_TYPE.LINK},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.findLinkEntities=i;var a=n(1),l=o(a),r=n(14),s=function(e){var t=e.entityKey,n=e.contentState,o=e.children,i=n.getEntity(t).getData(),a=i.url;return l.default.createElement("span",{"data-tooltip":t,className:"RichEditor-link"},l.default.createElement(r.Icon,{name:"icon-"+(a.indexOf("mailto:")!==-1?"mail":"link")}),o)};s.propTypes={entityKey:l.default.PropTypes.string.isRequired,contentState:l.default.PropTypes.object.isRequired,children:l.default.PropTypes.node.isRequired},t.default=s},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(5),d=function(t){function n(){return i(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),r(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.entity,i=t.options,a=t.onUpdate,l=e.prompt("Document URL",o?o.getData().url:"");if(l){var r=n.getCurrentContent(),s=r.createEntity(i.type,"MUTABLE",{url:l,title:"Kritik der reinen Vernunft"}),u=s.getLastCreatedEntityKey(),d=c.RichUtils.toggleLink(n,n.getSelection(),u);a(d)}else a(n)}},{key:"render",value:function(){return null}}]),n}(u.default.Component);d.propTypes={editorState:u.default.PropTypes.object.isRequired,options:u.default.PropTypes.object.isRequired,entity:u.default.PropTypes.object,onUpdate:u.default.PropTypes.func.isRequired},d.defaultProps={entity:null},t.default=d}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(5),d=function(t){function n(){return i(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),r(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.entity,i=t.options,a=t.onUpdate,l=e.prompt("Link URL",o?o.getData().url:"");if(l){var r=n.getCurrentContent(),s=r.createEntity(i.type,"MUTABLE",{url:l}),u=s.getLastCreatedEntityKey(),d=c.RichUtils.toggleLink(n,n.getSelection(),u);a(d)}else a(n)}},{key:"render",value:function(){return null}}]),n}(u.default.Component);d.propTypes={editorState:u.default.PropTypes.object.isRequired,options:u.default.PropTypes.object.isRequired,entity:u.default.PropTypes.object,onUpdate:u.default.PropTypes.func.isRequired},d.defaultProps={entity:null},t.default=d}).call(t,function(){return this}())},,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(5),d="https://api.embedly.com/1/oembed?key=fd2d6a8502b54524a58f62d1ad8d8550",p=function(e,t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.onload=function(){o.status>=200&&o.status<400&&n(JSON.parse(o.responseText))},o.send(t)},y=function(t){function n(){return i(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),r(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.options,i=t.onUpdate,a=e.prompt("Link URL");a?p(d+"&url="+encodeURIComponent(a),null,function(e){var t=n.getCurrentContent(),a=t.createEntity(o.type,"IMMUTABLE",{url:e.url,title:e.title,providerName:e.provider_name,authorName:e.author_name,thumbnail:e.thumbnail_url}),l=a.getLastCreatedEntityKey(),r=c.AtomicBlockUtils.insertAtomicBlock(n,l," ");i(r)}):i(n)}},{key:"render",value:function(){return null}}]),n}(u.default.Component);y.propTypes={editorState:u.default.PropTypes.object.isRequired,options:u.default.PropTypes.object.isRequired,onUpdate:u.default.PropTypes.func.isRequired},t.default=y}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),u=o(s),c=n(5),d=function(t){function n(){return i(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),r(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.options,i=t.onUpdate,a=e.prompt("Link URL");if(a){var l=n.getCurrentContent(),r=l.createEntity(o.type,"IMMUTABLE",{altText:"Test image alt text",alignment:"left",src:a}),s=r.getLastCreatedEntityKey(),u=c.AtomicBlockUtils.insertAtomicBlock(n,s," ");i(u)}else i(n)}},{key:"render",value:function(){return null}}]),n}(u.default.Component);d.propTypes={editorState:u.default.PropTypes.object.isRequired,options:u.default.PropTypes.object.isRequired,onUpdate:u.default.PropTypes.func.isRequired},t.default=d}).call(t,function(){return this}())}]);