webpackJsonp([1],[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(1),i=o(r),l=n(13),a=o(l),u=n(14),c=o(u),s=n(54),d=o(s),f=n(55),p=o(f),y=n(77),E=o(y),h=n(76),g=o(h),T=n(53),b=o(T),m=n(52),v=o(m),_=document.querySelector("[data-mount-test]"),R=function(e){var t=JSON.stringify(e);sessionStorage.setItem("test:contentState",t)},O=i.default.createElement(c.default,{rawContentState:JSON.parse(sessionStorage.getItem("test:contentState"))||{},onSave:R,enableHorizontalRule:!0,enableLineBreak:!0,stripPastedStyles:!1,entityTypes:[{label:"Image",type:u.ENTITY_TYPE.IMAGE,icon:"icon-image",control:E.default,imageFormats:[]},{label:"Embed",type:u.ENTITY_TYPE.EMBED,icon:"icon-media",control:g.default},{label:"Link",type:u.ENTITY_TYPE.LINK,icon:"icon-link",control:p.default,strategy:T.findLinkEntities,component:b.default},{label:"Document",type:u.ENTITY_TYPE.DOCUMENT,icon:"icon-doc-full",control:d.default,strategy:m.findDocumentEntities,component:v.default}],blockTypes:[{label:"H2",type:u.BLOCK_TYPE.HEADER_TWO},{label:"H3",type:u.BLOCK_TYPE.HEADER_THREE},{label:"H4",type:u.BLOCK_TYPE.HEADER_FOUR},{label:"H5",type:u.BLOCK_TYPE.HEADER_FIVE},{label:"Blockquote",type:u.BLOCK_TYPE.BLOCKQUOTE,icon:"icon-openquote"},{label:"UL",type:u.BLOCK_TYPE.UNORDERED_LIST_ITEM,icon:"icon-list-ul"},{label:"OL",type:u.BLOCK_TYPE.ORDERED_LIST_ITEM,icon:"icon-list-ol"},{label:"T&C",type:"terms-and-conditions",element:"div",className:"u-smalltext"}],inlineStyles:[{label:"Bold",type:u.INLINE_STYLE.BOLD,icon:"icon-bold"},{label:"Italic",type:u.INLINE_STYLE.ITALIC,icon:"icon-italic"},{label:"Underline",type:u.INLINE_STYLE.UNDERLINE,icon:"icon-underline"},{label:"Monospace",type:u.INLINE_STYLE.CODE,icon:"icon-pacman"},{label:"Strikethrough",type:u.INLINE_STYLE.STRIKETHROUGH,icon:"icon-strikethrough"}]});a.default.render(O,_)},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.BLOCK_TYPE={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",CODE:"code-block",ATOMIC:"atomic"},o=t.ENTITY_TYPE={LINK:"LINK",DOCUMENT:"DOCUMENT",MODEL:"MODEL",IMAGE:"IMAGE",EMBED:"EMBED",HORIZONTAL_RULE:"HORIZONTAL_RULE"},r=t.INLINE_STYLE={BOLD:"BOLD",ITALIC:"ITALIC",CODE:"CODE",UNDERLINE:"UNDERLINE",STRIKETHROUGH:"STRIKETHROUGH"},i=t.BR_TYPE="BR",l=(t.KEY_CODES={K:75,B:66,U:85,J:74,I:73,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56},t.KEYBOARD_SHORTCUTS={});l[n.UNSTYLED]={other:"ctrl + alt + 0",macOS:"⌘ + option + 0"},l[n.HEADER_ONE]={other:"ctrl + alt + 1",macOS:"⌘ + option + 1"},l[n.HEADER_TWO]={other:"ctrl + alt + 2",macOS:"⌘ + option + 2"},l[n.HEADER_THREE]={other:"ctrl + alt + 3",macOS:"⌘ + option + 3"},l[n.HEADER_FOUR]={other:"ctrl + alt + 4",macOS:"⌘ + option + 4"},l[n.HEADER_FIVE]={other:"ctrl + alt + 5",macOS:"⌘ + option + 5"},l[n.HEADER_SIX]={other:"ctrl + alt + 6",macOS:"⌘ + option + 6"},l[n.UNORDERED_LIST_ITEM]={other:"ctrl + shift + 8",macOS:"⌘ + shift + 8"},l[n.ORDERED_LIST_ITEM]={other:"ctrl + shift + 7",macOS:"⌘ + shift + 7"},l[o.LINK]={other:"ctrl + K",macOS:"⌘ + K"},l[i]={other:"shift + enter",macOS:"shift + enter"},l[r.BOLD]={other:"ctrl + B",macOS:"⌘ + B"},l[r.ITALIC]={other:"ctrl + I",macOS:"⌘ + I"},l[r.UNDERLINE]={other:"ctrl + U",macOS:"⌘ + U"},l[r.STRIKETHROUGH]={other:"alt + shift + 5",macOS:"option + shift + 5"},t.NBSP=" ",t.HANDLED="handled",t.NOT_HANDLED="not-handled"},,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=o(r),l=function(e){var t=e.name,n=e.className,o=e.title;return i.default.createElement("span",{className:"icon "+t+" "+n,"aria-hidden":!o},o?i.default.createElement("span",{role:"presentation"},o):null)};l.propTypes={name:r.PropTypes.string.isRequired,className:r.PropTypes.string,title:r.PropTypes.string},l.defaultProps={className:"",title:null},t.default=l},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(44),l=o(i),a=n(3);t.default={getSelectionEntity:l.default.getSelectionEntity.bind(l.default),getEntityRange:l.default.getEntityRange.bind(l.default),handleNewLine:l.default.handleNewLine.bind(l.default),addLineBreakRemovingSelection:l.default.addLineBreakRemovingSelection.bind(l.default),getSelectedBlock:l.default.getSelectedBlock.bind(l.default),getAllBlocks:l.default.getAllBlocks.bind(l.default),getSelectedEntitySelection:function(e){var t=e.getSelection(),n=e.getCurrentContent(),o=this.getSelectionEntity(e),i=this.getEntityRange(e,o),l=t.getAnchorKey(),a=n.getBlockForKey(l),u=a.getKey();return new r.SelectionState({anchorOffset:i.start,anchorKey:u,focusOffset:i.end,focusKey:u,isBackward:!1,hasFocus:t.getHasFocus()})},hasCurrentInlineStyle:function(e,t){var n=e.getCurrentInlineStyle();return n.has(t)},isSelectedBlockType:function(e,t){var n=this.getSelectedBlock(e);return n&&n.type===t},createEntity:function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"IMMUTABLE",l=e.getCurrentContent(),a=e.getSelection(),u=l.createEntity(t,i,n),c=u.getLastCreatedEntityKey(),s=void 0;s=a.isCollapsed()?r.Modifier.insertText(l,a,o,null,c):r.Modifier.replaceText(l,a,o,null,c);var d=r.EditorState.push(e,s,"insert");return d},addHorizontalRuleRemovingSelection:function(e){var t=e.getCurrentContent(),n=t.createEntity(a.ENTITY_TYPE.HORIZONTAL_RULE,"IMMUTABLE",{}),o=n.getLastCreatedEntityKey(),i=r.AtomicBlockUtils.insertAtomicBlock(e,o," ");return i},resetBlockWithType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.getCurrentContent(),i=e.getSelection(),l=i.getStartKey(),a=o.getBlockMap(),u=a.get(l),c=u.mergeDeep(n,{type:t,data:{}}),s=o.merge({blockMap:a.set(l,c),selectionAfter:i.merge({anchorOffset:0,focusOffset:0})});return r.EditorState.push(e,s,"change-block-type")},normaliseBlockDepth:function(e,t){var n=e.getCurrentContent(),o=n.getBlockMap(),i=o.filter(function(e){return e.getDepth()>t}).map(function(e){return e.set("depth",t)});return o=o.merge(i),n=n.merge({blockMap:o}),r.EditorState.set(e,{currentContent:n})}}},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.INLINE_STYLE=t.ENTITY_TYPE=t.BLOCK_TYPE=t.DraftUtils=void 0,n(37);var r=n(32),i=o(r),l=n(10),a=o(l),u=n(12),c=o(u),s=n(3);t.default=i.default,t.DraftUtils=c.default,t.BLOCK_TYPE=s.BLOCK_TYPE,t.ENTITY_TYPE=s.ENTITY_TYPE,t.INLINE_STYLE=s.INLINE_STYLE,t.Icon=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),r=n(5),i=n(3),l=r.KeyBindingUtil.hasCommandModifier,a=r.KeyBindingUtil.isOptionKeyCommand,u="test"===a({altKey:"test"});t.default={getBlockRenderMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.some(function(e){return e.type===i.BLOCK_TYPE.CODE})&&(t[i.BLOCK_TYPE.CODE]={element:"code",wrapper:r.DefaultDraftBlockRenderMap.get(i.BLOCK_TYPE.CODE).wrapper}),e.filter(function(e){return e.element}).forEach(function(e){t[e.type]={element:e.element}}),r.DefaultDraftBlockRenderMap.merge((0,o.Map)(t))},getBlockStyleFn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.filter(function(e){return e.className}).forEach(function(e){t[e.type]=e.className});var n=function(e){var n=e.getType();return t[n]||void 0};return n},getKeyBindingFn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=function(e,t){return Object.keys(t).reduce(function(n,o){return n[o]=e.some(function(e){return e.type===t[o]}),n},{})},a=o(e,i.BLOCK_TYPE),u=o(t,i.INLINE_STYLE),c=o(n,i.ENTITY_TYPE),s=function(e){if(e.shiftKey)switch(e.keyCode){case i.KEY_CODES.B:return null;case i.KEY_CODES.I:return null;case i.KEY_CODES.J:return null;case i.KEY_CODES.U:return null;case i.KEY_CODES[5]:return u.STRIKETHROUGH&&e.shiftKey&&e.altKey?i.INLINE_STYLE.STRIKETHROUGH:null;case i.KEY_CODES[7]:return a.ORDERED_LIST_ITEM&&l(e)&&e.shiftKey?i.BLOCK_TYPE.ORDERED_LIST_ITEM:null;case i.KEY_CODES[8]:return a.UNORDERED_LIST_ITEM&&l(e)&&e.shiftKey?i.BLOCK_TYPE.UNORDERED_LIST_ITEM:null}else switch(e.keyCode){case i.KEY_CODES.K:return c.LINK&&l(e)?i.ENTITY_TYPE.LINK:null;case i.KEY_CODES.B:return u.BOLD&&l(e)?i.INLINE_STYLE.BOLD:null;case i.KEY_CODES.I:return u.ITALIC&&l(e)?i.INLINE_STYLE.ITALIC:null;case i.KEY_CODES.J:return u.CODE&&l(e)?i.INLINE_STYLE.CODE:null;case i.KEY_CODES.U:return u.UNDERLINE&&l(e)?i.INLINE_STYLE.UNDERLINE:null;case i.KEY_CODES[0]:return(e.ctrlKey||e.metaKey)&&e.altKey?i.BLOCK_TYPE.UNSTYLED:null;case i.KEY_CODES[1]:return a.HEADER_ONE&&(e.ctrlKey||e.metaKey)&&e.altKey?i.BLOCK_TYPE.HEADER_ONE:null;case i.KEY_CODES[2]:return a.HEADER_TWO&&(e.ctrlKey||e.metaKey)&&e.altKey?i.BLOCK_TYPE.HEADER_TWO:null;case i.KEY_CODES[3]:return a.HEADER_THREE&&(e.ctrlKey||e.metaKey)&&e.altKey?i.BLOCK_TYPE.HEADER_THREE:null;case i.KEY_CODES[4]:return a.HEADER_FOUR&&(e.ctrlKey||e.metaKey)&&e.altKey?i.BLOCK_TYPE.HEADER_FOUR:null;case i.KEY_CODES[5]:return a.HEADER_FIVE&&(e.ctrlKey||e.metaKey)&&e.altKey?i.BLOCK_TYPE.HEADER_FIVE:null;case i.KEY_CODES[6]:return a.HEADER_SIX&&(e.ctrlKey||e.metaKey)&&e.altKey?i.BLOCK_TYPE.HEADER_SIX:null}return(0,r.getDefaultKeyBinding)(e)};return s},getKeyboardShortcut:function(e){var t=i.KEYBOARD_SHORTCUTS[e],n=u?"macOS":"other";return t?t[n]:"No keyboard shortcut"},getBeforeInputBlockType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={"* ":i.BLOCK_TYPE.UNORDERED_LIST_ITEM,"- ":i.BLOCK_TYPE.UNORDERED_LIST_ITEM,"1. ":i.BLOCK_TYPE.ORDERED_LIST_ITEM},o=n[e];return!!t.find(function(e){return e.type===o})&&o}}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);t.default={createEditorState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new o.CompositeDecorator(t),r=void 0;if(e&&0!==Object.keys(e).length){var i=(0,o.convertFromRaw)(e);r=o.EditorState.createWithContent(i,n)}else r=o.EditorState.createEmpty(n);return r},serialiseEditorState:function(e){var t=e.getCurrentContent(),n=(0,o.convertToRaw)(t),r=n.blocks.every(function(e){return 0===e.text.trim().length&&0===e.entityRanges.length&&0===e.inlineStyleRanges.length});return r?{}:n}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=o(r),l=function(){return i.default.createElement("hr",null)};t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=o(r),l=n(3),a=n(10),u=o(a),c=function(e){var t=e.entity,n=e.isActive,o=e.onClick,r=t.getData(),a=r.url,c=r.title,s=r.providerName,d=r.authorName,f=r.thumbnail;return i.default.createElement("div",null,i.default.createElement(u.default,{name:"icon-media",className:"RichEditor-media-icon"}),i.default.createElement("div",{className:"RichEditor-media-container",onClick:o},i.default.createElement("span",{className:"RichEditor-media-preview"},i.default.createElement("img",{src:f,alt:c}))),n?i.default.createElement("div",{className:"RichEditor-media-options"},i.default.createElement("h3",null,i.default.createElement("strong",null,c)),i.default.createElement("p",null,i.default.createElement("span",null,"URL:",l.NBSP,i.default.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},a)),i.default.createElement("br",null),i.default.createElement("span",null,"Provider:",l.NBSP),s,i.default.createElement("br",null),i.default.createElement("span",null,"Author:",l.NBSP),d)):null)};c.propTypes={entity:i.default.PropTypes.object.isRequired,isActive:i.default.PropTypes.bool.isRequired,onClick:i.default.PropTypes.func.isRequired},t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(10),d=o(s),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.entity,l=o.getData(),a=l.altText,u=l.alignment;return n.state={altText:a||"",alignment:u||"left"},n.changeText=n.changeText.bind(n),n.changeAlignment=n.changeAlignment.bind(n),n.onSave=n.onSave.bind(n),n.renderMediaOptions=n.renderMediaOptions.bind(n),n}return l(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.entity.getData(),n=t.altText,o=t.alignment;this.setState({altText:n||"",alignment:o||"left"})}},{key:"changeText",value:function(e){this.setState({altText:e.currentTarget.value})}},{key:"changeAlignment",value:function(e){this.setState({alignment:e.currentTarget.value})}},{key:"onSave",value:function e(){var e=this.props.onSave,t=this.state,n=t.alignment,o=t.altText;e({alignment:n,altText:o})}},{key:"renderMediaOptions",value:function(){var e=this,t=this.props,n=t.entityConfig,o=t.onCancel,r=this.state,i=r.alignment,l=r.altText,a=n.imageFormats||[];return c.default.createElement("div",{className:"RichEditor-media-options"},c.default.createElement("div",{className:"RichEditor-grid"},c.default.createElement("div",{className:"RichEditor-col"},c.default.createElement("label",{className:"u-block"},c.default.createElement("h4",null,"Alt text"),c.default.createElement("p",null,c.default.createElement("input",{type:"text",value:l,onChange:this.changeText})))),c.default.createElement("div",{className:"RichEditor-col"},c.default.createElement("h4",null,"Image alignment"),c.default.createElement("p",null,a.map(function(t){return c.default.createElement("label",{key:t.value},c.default.createElement("input",{type:"radio",value:t.value,onChange:e.changeAlignment,checked:t.value===i}),t.label)})))),c.default.createElement("p",null,c.default.createElement("button",{type:"button",className:"button button-secondary",onClick:this.onSave},"Save changes"),c.default.createElement("button",{type:"button",className:"button button-secondary no",onClick:o},"Cancel")))}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.isActive,o=e.onClick,r=t.getData(),i=r.src,l=r.alt;return c.default.createElement("div",null,c.default.createElement(d.default,{name:"icon-image",className:"RichEditor-media-icon"}),c.default.createElement("div",{onClick:o,className:"RichEditor-media-container"},c.default.createElement("span",{className:"RichEditor-media-preview"},c.default.createElement("img",{src:i,alt:l||""}))),n?this.renderMediaOptions():null)}}]),t}(u.Component);f.propTypes={entityConfig:c.default.PropTypes.object.isRequired,entity:c.default.PropTypes.object.isRequired,isActive:c.default.PropTypes.bool.isRequired,onClick:c.default.PropTypes.func.isRequired,onSave:c.default.PropTypes.func.isRequired,onCancel:c.default.PropTypes.func.isRequired},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(3),d=n(28),f=o(d),p=n(27),y=o(p),E=n(30),h=o(E),g={};g[s.ENTITY_TYPE.IMAGE]=f.default,g[s.ENTITY_TYPE.EMBED]=y.default;var T=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isActive:!1},n.toggleBlock=n.toggleBlock.bind(n),n.closeBlock=n.toggleBlock.bind(n,!1),n.onClick=n.onClick.bind(n),n.onSave=n.onSave.bind(n),n}return l(t,e),a(t,[{key:"toggleBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.isActive,t=this.props.blockProps;this.setState({isActive:e}),e?t.lockEditor():t.unlockEditor()}},{key:"onClick",value:function(){this.toggleBlock()}},{key:"onSave",value:function(e){var t=this.props,n=t.block,o=t.contentState;o.mergeEntityData(n.getEntityAt(0),e),this.closeBlock()}},{key:"render",value:function(){var e=this.props.blockProps,t=this.state.isActive,n=g[e.entity.type]||h.default;return c.default.createElement("div",{className:"RichEditor-media"+(t?" RichEditor-media--open":"")},c.default.createElement(n,{entity:e.entity,entityConfig:e.entityConfig,isActive:t,onClick:this.onClick,onCancel:this.closeBlock,onSave:this.onSave}))}}]),t}(u.Component);T.propTypes={block:c.default.PropTypes.object.isRequired,contentState:c.default.PropTypes.object.isRequired,blockProps:c.default.PropTypes.object.isRequired},t.default=T},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=o(r),l=function(){return i.default.createElement("div",null,"Invalid component")};t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=o(r),l=n(10),a=o(l),u=function(e,t){t.preventDefault(),e()},c=function(e){var t=e.active,n=e.label,o=e.title,r=e.icon,l=e.onClick;return i.default.createElement("button",{className:"RichEditor-styleButton"+(t?" RichEditor-activeButton":""),type:"button",title:o,onMouseDown:u.bind(null,l)},r?i.default.createElement(a.default,{name:r}):null,n)};c.propTypes={active:i.default.PropTypes.bool,label:i.default.PropTypes.string,title:i.default.PropTypes.string,icon:i.default.PropTypes.string,onClick:i.default.PropTypes.func},c.defaultProps={active:!1,label:null,title:null,icon:null,onClick:function(){}},t.default=c},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(5),d=n(3),f=n(12),p=o(f),y=n(15),E=o(y),h=n(25),g=o(h),T=n(34),b=o(T),m=n(33),v=o(m),_=n(35),R=o(_),O=n(26),S=o(O),C=n(29),P=o(C),k={rawContentState:{},onSave:function(){},enableHorizontalRule:!1,enableLineBreak:!1,stripPastedStyles:!0,entityTypes:[],blockTypes:[],inlineStyles:[],maxListNesting:1,stateSaveInterval:250},D={rawContentState:c.default.PropTypes.object,onSave:c.default.PropTypes.func,enableHorizontalRule:c.default.PropTypes.bool,enableLineBreak:c.default.PropTypes.bool,stripPastedStyles:c.default.PropTypes.bool,entityTypes:c.default.PropTypes.arrayOf(c.default.PropTypes.shape({label:c.default.PropTypes.string.isRequired,type:c.default.PropTypes.string.isRequired,icon:c.default.PropTypes.string,control:c.default.PropTypes.func.isRequired,strategy:c.default.PropTypes.func,component:c.default.PropTypes.func,imageFormats:c.default.PropTypes.arrayOf(c.default.PropTypes.shape({label:c.default.PropTypes.string.isRequired,value:c.default.PropTypes.string.isRequired}))})),blockTypes:c.default.PropTypes.arrayOf(c.default.PropTypes.shape({label:c.default.PropTypes.string.isRequired,type:c.default.PropTypes.string.isRequired,icon:c.default.PropTypes.string,element:c.default.PropTypes.string,className:c.default.PropTypes.string})),inlineStyles:c.default.PropTypes.arrayOf(c.default.PropTypes.shape({label:c.default.PropTypes.string.isRequired,type:c.default.PropTypes.string.isRequired,icon:c.default.PropTypes.string})),maxListNesting:c.default.PropTypes.number,stateSaveInterval:c.default.PropTypes.number},L=function(t){function n(e){r(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),o=e.rawContentState,l=e.entityTypes,a=l.filter(function(e){return!!e.strategy});return t.state={editorState:g.default.createEditorState(o,a),readOnly:!1,dialogOptions:null,entity:null},t.onChange=t.onChange.bind(t),t.saveState=t.saveState.bind(t),t.toggleTooltip=t.toggleTooltip.bind(t),t.toggleDialog=t.toggleDialog.bind(t),t.toggleEditor=t.toggleEditor.bind(t),t.lockEditor=t.toggleEditor.bind(t,!0),t.unlockEditor=t.toggleEditor.bind(t,!1),t.handleReturn=t.handleReturn.bind(t),t.onTab=t.onTab.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t.onKeyUp=t.onKeyUp.bind(t),t.handleKeyCommand=t.handleKeyCommand.bind(t),t.handleBeforeInput=t.handleBeforeInput.bind(t),t.toggleBlockType=t.toggleBlockType.bind(t),t.toggleInlineStyle=t.toggleInlineStyle.bind(t),t.onEditEntity=t.onEditEntity.bind(t),t.onRemoveEntity=t.onRemoveEntity.bind(t),t.addHR=t.addHR.bind(t),t.addBR=t.addBR.bind(t),t.blockRenderer=t.blockRenderer.bind(t),t.onRequestDialog=t.onRequestDialog.bind(t),t.onDialogComplete=t.onDialogComplete.bind(t),t.renderDialog=t.renderDialog.bind(t),t.renderTooltip=t.renderTooltip.bind(t),t}return l(n,t),a(n,[{key:"onChange",value:function(t){var n=this,o=this.props,r=o.stateSaveInterval,i=o.maxListNesting,l=this.state.editorState,a=l.getCurrentContent(),u=t.getCurrentContent();u!==a&&"insert-fragment"===t.getLastChangeType()&&(t=p.default.normaliseBlockDepth(t,i)),this.setState({editorState:t},function(){e.clearTimeout(n.updateTimeout),n.updateTimeout=e.setTimeout(n.saveState,r)})}},{key:"saveState",value:function(){var e=this.props.onSave,t=this.state.editorState;e(g.default.serialiseEditorState(t))}},{key:"toggleEditor",value:function(e){this.setState({readOnly:e})}},{key:"toggleTooltip",value:function(e){this.setState({shouldShowTooltip:e})}},{key:"toggleDialog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props.entityTypes,o=n.find(function(t){return t.type===e});this.setState({readOnly:!0,dialogOptions:o,entity:t})}},{key:"handleReturn",value:function(t){var n=this.props.enableLineBreak,o=this.state.editorState,r=o.getCurrentContent(),i=!1;if(t.altKey){i=!0;var l=p.default.getSelectionEntity(o);if(l){var a=r.getEntity(l).getData();a.url&&e.open(a.url)}}else{n||(t.which=0);var u=p.default.handleNewLine(o,t);u&&(i=!0,this.onChange(u))}return i}},{key:"onTab",value:function(e){var t=this.props.maxListNesting,n=this.state.editorState,o=s.RichUtils.onTab(e,n,t);return this.onChange(o),!0}},{key:"onMouseUp",value:function(e){this.tooltip=e.target.closest("[data-tooltip]"),this.toggleTooltip(!!this.tooltip)}},{key:"onKeyUp",value:function(){this.toggleTooltip(!1)}},{key:"handleKeyCommand",value:function(e){var t=this.state.editorState,n=function(e,t){return Object.keys(e).find(function(n){return e[n]===t})},o=void 0,r=!1;return n(d.ENTITY_TYPE,e)?(r=!0,this.onRequestDialog(e)):n(d.BLOCK_TYPE,e)?(r=!0,this.toggleBlockType(e)):n(d.INLINE_STYLE,e)?(r=!0,this.toggleInlineStyle(e)):(o=s.RichUtils.handleKeyCommand(t,e),o&&(r=!0,this.onChange(o))),r}},{key:"handleBeforeInput",value:function(e){var t=this.props.blockTypes,n=this.state.editorState,o=n.getSelection(),r=p.default.getSelectedBlock(n),i=r.getType(),l=E.default.getBeforeInputBlockType(""+(r.getText()[0]||"")+(r.getText()[1]||"")+e,t),a=[i!==d.BLOCK_TYPE.UNSTYLED,o.getAnchorOffset()>2,r.getLength()>2,!l];return a.some(function(e){return e})?d.NOT_HANDLED:(this.onChange(p.default.resetBlockWithType(n,l,{text:""})),d.HANDLED)}},{key:"toggleBlockType",value:function(e){var t=this.state.editorState;this.onChange(s.RichUtils.toggleBlockType(t,e))}},{key:"toggleInlineStyle",value:function(e){var t=this.state.editorState;this.onChange(s.RichUtils.toggleInlineStyle(t,e))}},{key:"onEditEntity",value:function(e){var t=this.state.editorState,n=t.getCurrentContent(),o=n.getEntity(e),r=p.default.getSelectedEntitySelection(t),i=s.EditorState.acceptSelection(t,r);this.onChange(i),this.toggleDialog(o.type,o)}},{key:"onRemoveEntity",value:function(){var e=this.state.editorState,t=p.default.getSelectedEntitySelection(e);this.setState({shouldShowTooltip:!1}),this.onChange(s.RichUtils.toggleLink(e,t,null))}},{key:"addHR",value:function(){var e=this.state.editorState;this.onChange(p.default.addHorizontalRuleRemovingSelection(e))}},{key:"addBR",value:function(){var e=this.state.editorState;this.onChange(p.default.addLineBreakRemovingSelection(e))}},{key:"blockRenderer",value:function(e){var t=this.props.entityTypes,n=this.state.editorState,o=n.getCurrentContent(),r=void 0,i=void 0,l=void 0;switch(e.getType()){case d.BLOCK_TYPE.ATOMIC:r=o.getEntity(e.getEntityAt(0)),i=r.type===d.ENTITY_TYPE.HORIZONTAL_RULE,l=i?{component:S.default,editable:!1,props:{}}:{component:P.default,editable:!1,props:{entity:r,entityConfig:t.find(function(e){return e.type===r.type}),lockEditor:this.lockEditor,unlockEditor:this.unlockEditor,editorState:n,onUpdate:this.onDialogComplete}};break;default:l=null}return l}},{key:"onRequestDialog",value:function(e){var t=this.state.editorState,n=t.getCurrentContent(),o=p.default.getSelectionEntity(t);this.toggleDialog(e,o?n.getEntity(o):null)}},{key:"onDialogComplete",value:function(t){var n=this;this.setState({dialogOptions:null},function(){t&&n.onChange(t),e.setTimeout(function(){n.setState({readOnly:!1},function(){e.setTimeout(function(){n.editorRef.focus()},0)})},0)})}},{key:"renderDialog",value:function(){var e=this.state,t=e.entity,n=e.editorState,o=e.dialogOptions,r=void 0;if(o){var i=o.control;r=c.default.createElement(i,{onClose:this.onDialogComplete,onUpdate:this.onDialogComplete,entity:t,editorState:n,options:o})}else r=null;return r}},{key:"renderTooltip",value:function(){var e=this.state,t=e.editorState,n=e.shouldShowTooltip,o=t.getCurrentContent(),r=this.tooltip&&this.tooltip.getAttribute("data-tooltip");return c.default.createElement(v.default,null,n&&r?c.default.createElement(R.default,{onRemove:this.onRemoveEntity,onEdit:this.onEditEntity.bind(this,r),entityData:o.getEntity(r).getData(),position:{top:this.tooltip.getBoundingClientRect().top+document.body.scrollTop+this.tooltip.offsetHeight,left:this.tooltip.getBoundingClientRect().left+document.body.scrollLeft}}):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.enableHorizontalRule,o=t.enableLineBreak,r=t.stripPastedStyles,i=t.blockTypes,l=t.inlineStyles,a=t.entityTypes,u=this.state,d=u.editorState,f=u.readOnly;return c.default.createElement("div",{className:f?"editor--readonly":null,onBlur:this.saveState,onMouseUp:this.onMouseUp,onKeyUp:this.onKeyUp},c.default.createElement(b.default,{editorState:d,enableHorizontalRule:n,enableLineBreak:o,blockTypes:i,inlineStyles:l,entityTypes:a,readOnly:f,toggleBlockType:this.toggleBlockType,toggleInlineStyle:this.toggleInlineStyle,addHR:this.addHR,addBR:this.addBR,onRequestDialog:this.onRequestDialog}),c.default.createElement(s.Editor,{ref:function(t){e.editorRef=t},editorState:d,onChange:this.onChange,readOnly:f,stripPastedStyles:r,handleReturn:this.handleReturn,keyBindingFn:E.default.getKeyBindingFn(i,l,a),handleKeyCommand:this.handleKeyCommand,handleBeforeInput:this.handleBeforeInput,onTab:this.onTab,blockRendererFn:this.blockRenderer,blockRenderMap:E.default.getBlockRenderMap(i),blockStyleFn:E.default.getBlockStyleFn(i)}),this.renderTooltip(),this.renderDialog())}}]),n}(u.Component);L.propTypes=D,L.defaultProps=k,t.default=L}).call(t,function(){return this}())},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(13),d=o(s),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),a(t,[{key:"componentDidMount",value:function(){this.portal||(this.portal=document.createElement("div"),document.body.appendChild(this.portal)),this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.props.children;d.default.render(c.default.createElement("div",this.props,e),this.portal)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.portal)}},{key:"render",value:function(){return null}}]),t}(c.default.Component);f.propTypes={children:c.default.PropTypes.node},f.defaultProps={children:null},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=o(r),l=n(12),a=o(l),u=n(31),c=o(u),s=n(3),d=n(15),f=o(d),p=function(e){var t=e.editorState,n=e.blockTypes,o=e.inlineStyles,r=e.enableHorizontalRule,l=e.enableLineBreak,u=e.entityTypes,d=e.toggleBlockType,p=e.toggleInlineStyle,y=e.addHR,E=e.addBR,h=e.onRequestDialog;return i.default.createElement("div",{className:"editor__toolbar",role:"toolbar"},n.map(function(e){return i.default.createElement(c.default,{key:e.type,active:a.default.isSelectedBlockType(t,e.type),label:e.label,title:f.default.getKeyboardShortcut(e.type),icon:e.icon,onClick:d.bind(null,e.type)})}),o.map(function(e){return i.default.createElement(c.default,{key:e.type,active:a.default.hasCurrentInlineStyle(t,e.type),label:e.label,title:f.default.getKeyboardShortcut(e.type),icon:e.icon,onClick:p.bind(null,e.type)})}),r?i.default.createElement(c.default,{onClick:y,label:"HR"}):null,l?i.default.createElement(c.default,{onClick:E,label:"BR",title:f.default.getKeyboardShortcut(s.BR_TYPE)
}):null,u.map(function(e){return i.default.createElement(c.default,{key:e.type,onClick:h.bind(null,e.type),label:e.label,title:f.default.getKeyboardShortcut(e.type),icon:e.icon})}))};p.propTypes={editorState:i.default.PropTypes.object.isRequired,enableHorizontalRule:i.default.PropTypes.bool.isRequired,enableLineBreak:i.default.PropTypes.bool.isRequired,entityTypes:i.default.PropTypes.array.isRequired,blockTypes:i.default.PropTypes.array.isRequired,inlineStyles:i.default.PropTypes.array.isRequired,toggleBlockType:i.default.PropTypes.func.isRequired,toggleInlineStyle:i.default.PropTypes.func.isRequired,addHR:i.default.PropTypes.func.isRequired,addBR:i.default.PropTypes.func.isRequired,onRequestDialog:i.default.PropTypes.func.isRequired},t.default=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=o(r),l=n(36),a=function(e){var t=e.position,n=e.entityData,o=e.onEdit,r=e.onRemove;return i.default.createElement("div",{style:{top:t.top,left:t.left},className:"RichEditor-tooltip",role:"tooltip"},n.url?i.default.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"RichEditor-tooltip__link"},(0,l.truncateURL)(n.url)):null,n.label?i.default.createElement("span",{className:"RichEditor-tooltip__text"},(0,l.truncateURL)(n.label)):null,i.default.createElement("button",{className:"RichEditor-tooltip__button",onClick:o},"Edit"),i.default.createElement("button",{className:"RichEditor-tooltip__button",onClick:r},"Remove"))};a.propTypes={position:i.default.PropTypes.shape({top:i.default.PropTypes.number.isRequired,left:i.default.PropTypes.number.isRequired}).isRequired,entityData:i.default.PropTypes.object.isRequired,onEdit:i.default.PropTypes.func.isRequired,onRemove:i.default.PropTypes.func.isRequired},t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[" ","/","&"],r=.8*t,i=n?e.split("").reverse().join(""):e,l="",a=void 0;for(a=0;a<t-1&&(l+=i[a],!(a>=r&&o.indexOf(i[a])>=0));a++);return n?l.split("").reverse().join(""):l};t.truncateURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=t/2,r=e.replace("http://","").replace("https://","");if(e.length>t){var i=n(r,o,!1),l=n(r,o,!0);r=i+"…"+l}return r}},function(e,t){"use strict";window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do for(t=n.length;--t>=0&&n.item(t)!==o;);while(t<0&&(o=o.parentElement));return o})},,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&n.getEntity(t).getType()===a.ENTITY_TYPE.DOCUMENT},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.findDocumentEntities=r;var i=n(1),l=o(i),a=n(14),u=function(e){var t=e.entityKey,n=e.contentState,o=e.children,r=n.getEntity(t).getData(),i=r.title;return l.default.createElement("span",{"data-tooltip":t,className:"RichEditor-link",title:i},l.default.createElement(a.Icon,{name:"icon-doc-full"}),o)};u.propTypes={entityKey:l.default.PropTypes.string.isRequired,contentState:l.default.PropTypes.object.isRequired,children:l.default.PropTypes.node.isRequired},t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&n.getEntity(t).getType()===a.ENTITY_TYPE.LINK},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.findLinkEntities=r;var i=n(1),l=o(i),a=n(14),u=function(e){var t=e.entityKey,n=e.contentState,o=e.children,r=n.getEntity(t).getData(),i=r.url;return l.default.createElement("span",{"data-tooltip":t,className:"RichEditor-link"},l.default.createElement(a.Icon,{name:"icon-"+(i.indexOf("mailto:")!==-1?"mail":"link")}),o)};u.propTypes={entityKey:l.default.PropTypes.string.isRequired,contentState:l.default.PropTypes.object.isRequired,children:l.default.PropTypes.node.isRequired},t.default=u},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(5),d=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),a(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.entity,r=t.options,i=t.onUpdate,l=e.prompt("Document URL",o?o.getData().url:"");if(l){var a=n.getCurrentContent(),u=a.createEntity(r.type,"MUTABLE",{url:l,title:"Kritik der reinen Vernunft"}),c=u.getLastCreatedEntityKey(),d=s.RichUtils.toggleLink(n,n.getSelection(),c);i(d)}else i(n)}},{key:"render",value:function(){return null}}]),n}(c.default.Component);d.propTypes={editorState:c.default.PropTypes.object.isRequired,options:c.default.PropTypes.object.isRequired,entity:c.default.PropTypes.object,onUpdate:c.default.PropTypes.func.isRequired},d.defaultProps={entity:null},t.default=d}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(5),d=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),a(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.entity,r=t.options,i=t.onUpdate,l=e.prompt("Link URL",o?o.getData().url:"");if(l){var a=n.getCurrentContent(),u=a.createEntity(r.type,"MUTABLE",{url:l}),c=u.getLastCreatedEntityKey(),d=s.RichUtils.toggleLink(n,n.getSelection(),c);i(d)}else i(n)}},{key:"render",value:function(){return null}}]),n}(c.default.Component);d.propTypes={editorState:c.default.PropTypes.object.isRequired,options:c.default.PropTypes.object.isRequired,entity:c.default.PropTypes.object,onUpdate:c.default.PropTypes.func.isRequired},d.defaultProps={entity:null},t.default=d}).call(t,function(){return this}())},,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(5),d="https://api.embedly.com/1/oembed?key=fd2d6a8502b54524a58f62d1ad8d8550",f=function(e,t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.onload=function(){o.status>=200&&o.status<400&&n(JSON.parse(o.responseText))},o.send(t)},p=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),a(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.options,r=t.onUpdate,i=e.prompt("Link URL");i?f(d+"&url="+encodeURIComponent(i),null,function(e){var t=n.getCurrentContent(),i=t.createEntity(o.type,"IMMUTABLE",{url:e.url,title:e.title,providerName:e.provider_name,authorName:e.author_name,thumbnail:e.thumbnail_url}),l=i.getLastCreatedEntityKey(),a=s.AtomicBlockUtils.insertAtomicBlock(n,l," ");r(a)}):r(n)}},{key:"render",value:function(){return null}}]),n}(c.default.Component);p.propTypes={editorState:c.default.PropTypes.object.isRequired,options:c.default.PropTypes.object.isRequired,onUpdate:c.default.PropTypes.func.isRequired},t.default=p}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(5),d=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),a(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.editorState,o=t.options,r=t.onUpdate,i=e.prompt("Link URL");if(i){var l=n.getCurrentContent(),a=l.createEntity(o.type,"IMMUTABLE",{altText:"Test image alt text",alignment:"left",src:i}),u=a.getLastCreatedEntityKey(),c=s.AtomicBlockUtils.insertAtomicBlock(n,u," ");r(c)}else r(n)}},{key:"render",value:function(){return null}}]),n}(c.default.Component);d.propTypes={editorState:c.default.PropTypes.object.isRequired,options:c.default.PropTypes.object.isRequired,onUpdate:c.default.PropTypes.func.isRequired},t.default=d}).call(t,function(){return this}())}]);